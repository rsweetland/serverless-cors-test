<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test page</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

    <script type="text/javascript">
      $(function() {
        $('input#submitButton').click(function() {

          var settings = {
            "async": true,
            "crossDomain": true,
            "url": "https://lqua9t0r4g.execute-api.us-east-1.amazonaws.com/dev/testPost",
            "method": "POST",
            "headers": {
              "content-type": "application/json",
            },
            "processData": false,
            "data": JSON.stringify($('form#test').serializeArray())
            }

            $.ajax(settings).done(function (response) {
            console.log(response);
            });
            return false;
          });

        $('a#showSerialize').click(function() {
          var serialized = JSON.stringify($('form#test').serializeArray());
          console.log(serialized);
          return false;
        });

      });

    </script>
  </head>
  <body>
    <h1>Send JSON from Jquery</h1>
    <form action="/test" method="post" id="test">
      <input type="text" name="email" placeholder="email@email.com" value="esweetland+form@gmail.com">
      <input type="submit" id="submitButton" name="submitButton" value="submit to sls">
    </form>

    <h1>Post Raw Form Input</h1>
    <form action="https://lqua9t0r4g.execute-api.us-east-1.amazonaws.com/dev/testPost" method="post" id="test2">
      <input type="text" name="email" placeholder="email@email.com" value="esweetland+form@gmail.com">
      <input type="submit" id="submitButton" name="submitButton" value="submit to sls">
    </form>


    <a href="#" id="showSerialize">Show serialized data</a>

  </body>
</html>
